!function(){const t=330,a=440,e=d3.select("#chart").append("svg").attr("width",400).attr("height",500).append("g").attr("transform","translate(40,40)"),n=d3.select("#chart2").append("svg").attr("width",400).attr("height",500).append("g").attr("transform","translate(40,40)");d3.csv("/data/hospitals_per_state.csv",(t=>(t.sum=parseInt(t.sum),console.log(t),t))).then((function(s){d3.select("#step-0").on("stepin",(function(){let n=s.filter((t=>t));const r=d3.scaleBand().range([0,t]).domain(n.map((t=>t.state))).padding(.2);e.append("g").attr("transform","translate(0, 440)").call(d3.axisBottom(r)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end");const l=d3.scaleLinear().domain([0,300]).range([a,0]);e.append("g").call(d3.axisLeft(l)),e.selectAll("chart").data(n,(t=>t.sum)).join("rect").attr("x",(t=>r(t.state))).attr("y",(t=>l(t.sum))).attr("width",r.bandwidth()).attr("height",(t=>a-l(t.sum))).attr("fill","#69b3a2")})),d3.select("#step-1").on("stepin",(function(){let r=s.filter((t=>t.sum>50));const l=d3.scaleBand().range([0,t]).domain(r.map((t=>t.state))).padding(.2);n.append("g").attr("transform","translate(0, 440)").call(d3.axisBottom(l)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end");const d=d3.scaleLinear().domain([0,300]).range([a,0]);e.append("g").call(d3.axisLeft(d)),n.selectAll("chart2").data(r,(t=>t.sum)).join("rect").attr("x",(t=>l(t.state))).attr("y",(t=>d(t.sum))).attr("width",l.bandwidth()).attr("height",(t=>a-d(t.sum))).attr("fill","#69b3a2")})),d3.select("#step-2").on("stepin",(function(){}))}))}();